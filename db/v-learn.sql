--
-- PostgreSQL database dump
--

-- Dumped from database version 17.2
-- Dumped by pg_dump version 17.2

-- Started on 2025-05-11 19:57:01

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 226 (class 1259 OID 74084)
-- Name: categories; Type: TABLE; Schema: public; Owner: pfe_user
--

CREATE TABLE public.categories (
    id bigint NOT NULL,
    name character varying(100) NOT NULL
);


ALTER TABLE public.categories OWNER TO pfe_user;

--
-- TOC entry 225 (class 1259 OID 74083)
-- Name: categories_id_seq; Type: SEQUENCE; Schema: public; Owner: pfe_user
--

CREATE SEQUENCE public.categories_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.categories_id_seq OWNER TO pfe_user;

--
-- TOC entry 4989 (class 0 OID 0)
-- Dependencies: 225
-- Name: categories_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: pfe_user
--

ALTER SEQUENCE public.categories_id_seq OWNED BY public.categories.id;


--
-- TOC entry 234 (class 1259 OID 74185)
-- Name: certificate; Type: TABLE; Schema: public; Owner: pfe_user
--

CREATE TABLE public.certificate (
    id bigint NOT NULL,
    course_id bigint,
    course_title character varying(255),
    file_path character varying(255),
    issue_date date,
    user_id bigint,
    user_name character varying(255)
);


ALTER TABLE public.certificate OWNER TO pfe_user;

--
-- TOC entry 233 (class 1259 OID 74184)
-- Name: certificate_id_seq; Type: SEQUENCE; Schema: public; Owner: pfe_user
--

ALTER TABLE public.certificate ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.certificate_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 239 (class 1259 OID 98802)
-- Name: course_comment; Type: TABLE; Schema: public; Owner: pfe_user
--

CREATE TABLE public.course_comment (
    id bigint NOT NULL,
    comment text,
    course_id bigint,
    created_at timestamp(6) without time zone,
    instructor_reply character varying(255),
    student_id bigint
);


ALTER TABLE public.course_comment OWNER TO pfe_user;

--
-- TOC entry 238 (class 1259 OID 98801)
-- Name: course_comment_id_seq; Type: SEQUENCE; Schema: public; Owner: pfe_user
--

CREATE SEQUENCE public.course_comment_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.course_comment_id_seq OWNER TO pfe_user;

--
-- TOC entry 4990 (class 0 OID 0)
-- Dependencies: 238
-- Name: course_comment_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: pfe_user
--

ALTER SEQUENCE public.course_comment_id_seq OWNED BY public.course_comment.id;


--
-- TOC entry 224 (class 1259 OID 74047)
-- Name: courses; Type: TABLE; Schema: public; Owner: pfe_user
--

CREATE TABLE public.courses (
    id bigint NOT NULL,
    title character varying(255) NOT NULL,
    description text,
    instructor_id bigint,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    category_id bigint,
    status character varying(255) NOT NULL
);


ALTER TABLE public.courses OWNER TO pfe_user;

--
-- TOC entry 223 (class 1259 OID 74046)
-- Name: courses_id_seq; Type: SEQUENCE; Schema: public; Owner: pfe_user
--

CREATE SEQUENCE public.courses_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.courses_id_seq OWNER TO pfe_user;

--
-- TOC entry 4991 (class 0 OID 0)
-- Dependencies: 223
-- Name: courses_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: pfe_user
--

ALTER SEQUENCE public.courses_id_seq OWNED BY public.courses.id;


--
-- TOC entry 228 (class 1259 OID 74131)
-- Name: enrollments; Type: TABLE; Schema: public; Owner: pfe_user
--

CREATE TABLE public.enrollments (
    id bigint NOT NULL,
    user_id bigint NOT NULL,
    course_id bigint NOT NULL,
    enrolled_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    status character varying(255)
);


ALTER TABLE public.enrollments OWNER TO pfe_user;

--
-- TOC entry 227 (class 1259 OID 74130)
-- Name: enrollments_id_seq; Type: SEQUENCE; Schema: public; Owner: pfe_user
--

CREATE SEQUENCE public.enrollments_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.enrollments_id_seq OWNER TO pfe_user;

--
-- TOC entry 4992 (class 0 OID 0)
-- Dependencies: 227
-- Name: enrollments_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: pfe_user
--

ALTER SEQUENCE public.enrollments_id_seq OWNED BY public.enrollments.id;


--
-- TOC entry 237 (class 1259 OID 90585)
-- Name: instructor_requests; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.instructor_requests (
    id integer NOT NULL,
    user_id bigint,
    status character varying(20) DEFAULT 'PENDING'::character varying,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.instructor_requests OWNER TO postgres;

--
-- TOC entry 236 (class 1259 OID 90584)
-- Name: instructor_requests_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.instructor_requests_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.instructor_requests_id_seq OWNER TO postgres;

--
-- TOC entry 4994 (class 0 OID 0)
-- Dependencies: 236
-- Name: instructor_requests_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.instructor_requests_id_seq OWNED BY public.instructor_requests.id;


--
-- TOC entry 230 (class 1259 OID 74151)
-- Name: lesson_progress; Type: TABLE; Schema: public; Owner: pfe_user
--

CREATE TABLE public.lesson_progress (
    id bigint NOT NULL,
    completed_at timestamp(6) without time zone,
    lesson_id bigint,
    user_id bigint,
    is_completed boolean
);


ALTER TABLE public.lesson_progress OWNER TO pfe_user;

--
-- TOC entry 229 (class 1259 OID 74150)
-- Name: lesson_progress_id_seq; Type: SEQUENCE; Schema: public; Owner: pfe_user
--

ALTER TABLE public.lesson_progress ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.lesson_progress_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 232 (class 1259 OID 74157)
-- Name: lessons; Type: TABLE; Schema: public; Owner: pfe_user
--

CREATE TABLE public.lessons (
    id bigint NOT NULL,
    title character varying(255) NOT NULL,
    content character varying(255),
    course_id bigint NOT NULL,
    lesson_order integer NOT NULL,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    material_url character varying(255)
);


ALTER TABLE public.lessons OWNER TO pfe_user;

--
-- TOC entry 231 (class 1259 OID 74156)
-- Name: lessons_id_seq; Type: SEQUENCE; Schema: public; Owner: pfe_user
--

CREATE SEQUENCE public.lessons_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.lessons_id_seq OWNER TO pfe_user;

--
-- TOC entry 4996 (class 0 OID 0)
-- Dependencies: 231
-- Name: lessons_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: pfe_user
--

ALTER SEQUENCE public.lessons_id_seq OWNED BY public.lessons.id;


--
-- TOC entry 220 (class 1259 OID 74009)
-- Name: revoked_token; Type: TABLE; Schema: public; Owner: pfe_user
--

CREATE TABLE public.revoked_token (
    id bigint NOT NULL,
    expiry_date timestamp(6) with time zone NOT NULL,
    token character varying(255) NOT NULL
);


ALTER TABLE public.revoked_token OWNER TO pfe_user;

--
-- TOC entry 219 (class 1259 OID 74008)
-- Name: revoked_token_id_seq; Type: SEQUENCE; Schema: public; Owner: pfe_user
--

CREATE SEQUENCE public.revoked_token_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.revoked_token_id_seq OWNER TO pfe_user;

--
-- TOC entry 4997 (class 0 OID 0)
-- Dependencies: 219
-- Name: revoked_token_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: pfe_user
--

ALTER SEQUENCE public.revoked_token_id_seq OWNED BY public.revoked_token.id;


--
-- TOC entry 222 (class 1259 OID 74018)
-- Name: revoked_tokens; Type: TABLE; Schema: public; Owner: pfe_user
--

CREATE TABLE public.revoked_tokens (
    id bigint NOT NULL,
    token character varying(255) NOT NULL
);


ALTER TABLE public.revoked_tokens OWNER TO pfe_user;

--
-- TOC entry 221 (class 1259 OID 74017)
-- Name: revoked_tokens_id_seq; Type: SEQUENCE; Schema: public; Owner: pfe_user
--

CREATE SEQUENCE public.revoked_tokens_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.revoked_tokens_id_seq OWNER TO pfe_user;

--
-- TOC entry 4998 (class 0 OID 0)
-- Dependencies: 221
-- Name: revoked_tokens_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: pfe_user
--

ALTER SEQUENCE public.revoked_tokens_id_seq OWNED BY public.revoked_tokens.id;


--
-- TOC entry 235 (class 1259 OID 90572)
-- Name: user_roles; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.user_roles (
    user_id bigint NOT NULL,
    role character varying(50) NOT NULL
);


ALTER TABLE public.user_roles OWNER TO postgres;

--
-- TOC entry 218 (class 1259 OID 65728)
-- Name: users; Type: TABLE; Schema: public; Owner: pfe_user
--

CREATE TABLE public.users (
    id bigint NOT NULL,
    username character varying(50) NOT NULL,
    email character varying(100) NOT NULL,
    password character varying(255) NOT NULL,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    active boolean DEFAULT true NOT NULL,
    profile_image_url text,
    first_name character varying(100),
    last_name character varying(100),
    phone character varying(20),
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    force_relogin boolean DEFAULT false
);


ALTER TABLE public.users OWNER TO pfe_user;

--
-- TOC entry 217 (class 1259 OID 65727)
-- Name: users_id_seq; Type: SEQUENCE; Schema: public; Owner: pfe_user
--

CREATE SEQUENCE public.users_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.users_id_seq OWNER TO pfe_user;

--
-- TOC entry 5000 (class 0 OID 0)
-- Dependencies: 217
-- Name: users_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: pfe_user
--

ALTER SEQUENCE public.users_id_seq OWNED BY public.users.id;


--
-- TOC entry 4761 (class 2604 OID 74108)
-- Name: categories id; Type: DEFAULT; Schema: public; Owner: pfe_user
--

ALTER TABLE ONLY public.categories ALTER COLUMN id SET DEFAULT nextval('public.categories_id_seq'::regclass);


--
-- TOC entry 4770 (class 2604 OID 98805)
-- Name: course_comment id; Type: DEFAULT; Schema: public; Owner: pfe_user
--

ALTER TABLE ONLY public.course_comment ALTER COLUMN id SET DEFAULT nextval('public.course_comment_id_seq'::regclass);


--
-- TOC entry 4758 (class 2604 OID 74062)
-- Name: courses id; Type: DEFAULT; Schema: public; Owner: pfe_user
--

ALTER TABLE ONLY public.courses ALTER COLUMN id SET DEFAULT nextval('public.courses_id_seq'::regclass);


--
-- TOC entry 4762 (class 2604 OID 74134)
-- Name: enrollments id; Type: DEFAULT; Schema: public; Owner: pfe_user
--

ALTER TABLE ONLY public.enrollments ALTER COLUMN id SET DEFAULT nextval('public.enrollments_id_seq'::regclass);


--
-- TOC entry 4767 (class 2604 OID 90588)
-- Name: instructor_requests id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.instructor_requests ALTER COLUMN id SET DEFAULT nextval('public.instructor_requests_id_seq'::regclass);


--
-- TOC entry 4764 (class 2604 OID 74160)
-- Name: lessons id; Type: DEFAULT; Schema: public; Owner: pfe_user
--

ALTER TABLE ONLY public.lessons ALTER COLUMN id SET DEFAULT nextval('public.lessons_id_seq'::regclass);


--
-- TOC entry 4756 (class 2604 OID 74012)
-- Name: revoked_token id; Type: DEFAULT; Schema: public; Owner: pfe_user
--

ALTER TABLE ONLY public.revoked_token ALTER COLUMN id SET DEFAULT nextval('public.revoked_token_id_seq'::regclass);


--
-- TOC entry 4757 (class 2604 OID 74021)
-- Name: revoked_tokens id; Type: DEFAULT; Schema: public; Owner: pfe_user
--

ALTER TABLE ONLY public.revoked_tokens ALTER COLUMN id SET DEFAULT nextval('public.revoked_tokens_id_seq'::regclass);


--
-- TOC entry 4751 (class 2604 OID 65828)
-- Name: users id; Type: DEFAULT; Schema: public; Owner: pfe_user
--

ALTER TABLE ONLY public.users ALTER COLUMN id SET DEFAULT nextval('public.users_id_seq'::regclass);


--
-- TOC entry 4970 (class 0 OID 74084)
-- Dependencies: 226
-- Data for Name: categories; Type: TABLE DATA; Schema: public; Owner: pfe_user
--

COPY public.categories (id, name) FROM stdin;
1	Backend Development
2	frontend Development
3	Backend
4	Développement Web
5	Design UX/UI
6	Marketing Digital
7	Soft Skills
\.


--
-- TOC entry 4978 (class 0 OID 74185)
-- Dependencies: 234
-- Data for Name: certificate; Type: TABLE DATA; Schema: public; Owner: pfe_user
--

COPY public.certificate (id, course_id, course_title, file_path, issue_date, user_id, user_name) FROM stdin;
\.


--
-- TOC entry 4983 (class 0 OID 98802)
-- Dependencies: 239
-- Data for Name: course_comment; Type: TABLE DATA; Schema: public; Owner: pfe_user
--

COPY public.course_comment (id, comment, course_id, created_at, instructor_reply, student_id) FROM stdin;
1	Amazing course, really helpful!	13	2025-05-02 22:04:35.615108	Thank you!	12
\.


--
-- TOC entry 4968 (class 0 OID 74047)
-- Dependencies: 224
-- Data for Name: courses; Type: TABLE DATA; Schema: public; Owner: pfe_user
--

COPY public.courses (id, title, description, instructor_id, created_at, updated_at, category_id, status) FROM stdin;
9	Hacker Test Course	This is not your course, it belongs to instructor 43	\N	2025-04-22 12:04:01.339448	2025-04-22 12:04:01.339448	1	LIVE
10	Advanced Spring Boot	Full course on Spring Boot internals	\N	2025-04-22 12:45:15.639557	2025-04-22 12:45:15.639557	1	LIVE
11	Docker for Developers	Learn how to containerize your applications and run them with Docker.	12	2025-05-02 13:21:32.486648	2025-05-02 13:21:32.486648	1	LIVE
12	Mastering Spring Boot	Deep dive into Spring Boot features and real-world architecture.	12	2025-05-02 15:29:22.64708	2025-05-02 15:29:22.64708	1	LIVE
13	Introduction au Développement Web	Apprenez les bases du HTML, CSS et JavaScript.	12	2025-05-02 15:41:14.281669	2025-05-02 15:41:14.281669	2	LIVE
14	Maîtriser le Design UX/UI	Concevez des interfaces modernes et efficaces.	12	2025-05-02 15:41:34.489303	2025-05-02 15:41:34.489303	5	LIVE
\.


--
-- TOC entry 4972 (class 0 OID 74131)
-- Dependencies: 228
-- Data for Name: enrollments; Type: TABLE DATA; Schema: public; Owner: pfe_user
--

COPY public.enrollments (id, user_id, course_id, enrolled_at, status) FROM stdin;
8	12	13	2025-05-02 16:27:08.789883	ENROLLED
9	12	14	2025-05-02 16:27:55.500784	ENROLLED
\.


--
-- TOC entry 4981 (class 0 OID 90585)
-- Dependencies: 237
-- Data for Name: instructor_requests; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.instructor_requests (id, user_id, status, created_at) FROM stdin;
8	32	PENDING	2025-05-10 18:28:31.927452
9	33	PENDING	2025-05-10 18:28:44.60142
\.


--
-- TOC entry 4974 (class 0 OID 74151)
-- Dependencies: 230
-- Data for Name: lesson_progress; Type: TABLE DATA; Schema: public; Owner: pfe_user
--

COPY public.lesson_progress (id, completed_at, lesson_id, user_id, is_completed) FROM stdin;
2	2025-04-07 16:01:55.494859	1	43	t
4	2025-05-02 20:07:40.373873	2	12	t
5	2025-05-02 20:08:06.179645	3	12	t
6	2025-05-02 20:08:12.5405	4	12	t
7	2025-05-05 11:06:10.855421	2	6	t
8	2025-05-05 11:06:17.109642	3	6	t
9	2025-05-05 11:06:20.994374	4	6	t
10	2025-05-05 11:06:24.772792	5	6	t
11	2025-05-05 11:06:28.032665	6	6	t
\.


--
-- TOC entry 4976 (class 0 OID 74157)
-- Dependencies: 232
-- Data for Name: lessons; Type: TABLE DATA; Schema: public; Owner: pfe_user
--

COPY public.lessons (id, title, content, course_id, lesson_order, created_at, updated_at, material_url) FROM stdin;
2	Introduction to HTML	This lesson covers HTML basics.	13	1	2025-05-02 16:39:30.680019	2025-05-02 16:55:20.010301	/uploads/materials/0ad4b381-4902-4774-89f6-06a846392e5b_Download (2).mp4
5	JavaScript Basics	Learn how to add logic and interactivity to web pages.	13	4	2025-05-02 20:03:40.062216	2025-05-02 20:03:40.062216	\N
6	DOM Manipulation	Understand how to interact with HTML using JavaScript.	13	5	2025-05-02 20:03:48.440837	2025-05-02 20:03:48.440837	\N
3	CSS Fundamentals	Learn how to style your HTML.	13	2	2025-05-02 20:02:39.874642	2025-05-02 20:11:35.583135	/uploads/materials/f9d36557-0ef4-4ed5-9710-28f0ace70754_Download (1).mp4
4	Responsive Design	Make websites responsive using media queries and flex/grid.	13	3	2025-05-02 20:03:31.412487	2025-05-02 20:12:42.477019	/uploads/materials/62ec8b14-cb6f-4630-b9c4-1ff6e5e72079_Download.mp4
\.


--
-- TOC entry 4964 (class 0 OID 74009)
-- Dependencies: 220
-- Data for Name: revoked_token; Type: TABLE DATA; Schema: public; Owner: pfe_user
--

COPY public.revoked_token (id, expiry_date, token) FROM stdin;
\.


--
-- TOC entry 4966 (class 0 OID 74018)
-- Dependencies: 222
-- Data for Name: revoked_tokens; Type: TABLE DATA; Schema: public; Owner: pfe_user
--

COPY public.revoked_tokens (id, token) FROM stdin;
\.


--
-- TOC entry 4979 (class 0 OID 90572)
-- Dependencies: 235
-- Data for Name: user_roles; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.user_roles (user_id, role) FROM stdin;
3	ADMIN
12	STUDENT
12	INSTRUCTOR
15	STUDENT
16	STUDENT
26	STUDENT
27	STUDENT
29	STUDENT
29	INSTRUCTOR
30	STUDENT
30	INSTRUCTOR
31	STUDENT
32	STUDENT
33	STUDENT
\.


--
-- TOC entry 4962 (class 0 OID 65728)
-- Dependencies: 218
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: pfe_user
--

COPY public.users (id, username, email, password, created_at, active, profile_image_url, first_name, last_name, phone, updated_at, force_relogin) FROM stdin;
3	admin	admin@example.com	$2a$10$EyxfP/zjPRTT7vUmQmXsf./0nphNQWM/oBLefw7spLKtQRB2KK5mu	2025-04-25 18:56:01.672003	t	\N	System	Administrator	+21612345678	2025-04-25 18:56:01.779002	f
31	newstudent	student@email.com	$2a$10$7eNFRRpYhsXVI8KRdxtx9ukZ6jndSuQ5NpZIrSliCCO2mBzxlUDt.	2025-05-09 16:25:25.098342	t	\N	Stu	Dent	000111222	2025-05-09 16:25:25.172068	f
26	karouieya	karoui.eya@etudiant-fst.utm.tn	$2a$10$znIHVCc4bcQjDEAJC0kLDuE4wpzGTIWat9a8THcMiLSau4Gemvo0S	2025-05-07 20:15:29.058295	t	\N	Eya	Karoui	12345678	2025-05-07 20:15:29.164404	f
27	ey	karouisafa33@gmail.com	$2a$10$38CTyH.v9WIP8xNwd76bZ.nLav36Z3.KyC7Do6KD0rb8TrEqtRa0.	2025-05-08 14:46:21.055639	t	\N	ey	lo	24335042	2025-05-08 14:46:21.250797	f
32	john_doe	123@example.com	$2a$10$wV3vbvhvGpvLbtwkbdVQAO0J9Hs8ioR/wHIbn10tC4vhgjeLDB9Ne	2025-05-10 17:56:43.035881	t	\N	System	Administrator	+21612345678	2025-05-10 17:56:43.164384	f
33	jane_smith	jane_smith@example.com	$2a$10$rljZQXZwkSBHgMoxJFiGE.ef5r7CP687opOCTfhcff1zByEAkHfX2	2025-05-10 17:58:14.720217	t	\N	System	Administrator	+21612345678	2025-05-10 17:58:14.788786	f
12	yalo	ali@test.com	$2a$10$H8o3qEQem6KPgDDvzZ7LQuC3wGwnlmUcKn0hJiRBQHGBvwHqZ7ol6	2025-05-01 22:47:48.582096	t	\N	Ali	Ben Ahmed	12345678	2025-05-01 22:47:48.704448	f
15	yalo1111111111	yosraabdallah295@gmail.com	$2a$10$EuU3KWi/AXzpQ2DPZzJ2SeQRF5tJ3Mnw1odSOVn7rhMFarZlYIBUe	2025-05-06 17:25:56.461245	t	\N	yosra	benabdllah	12315522	2025-05-06 17:25:56.534126	f
16	newuser	newuser@example.com	$2a$10$a.7kTeRV3o6eYH/Cd8GH8uwWpHcAIkA6fZUmleI7e4RXNHdePpn2C	2025-05-07 16:21:10.866666	t	\N	New	User	1234567890	2025-05-07 16:21:10.976344	f
29	updatedUsername	karouieya63@gmail.com	$2a$10$cY6GrKe2CtyEy7qwxR/IGev6bDxpc3.ViaVR0GTaXN6LSlyQfKlyO	2025-05-08 22:56:22.065205	t	/uploads/profile-pictures/15b4f9cc-fbcd-4c01-87cf-4f61a1c0637b_love.jpg	NewName	Updated	12345678	2025-05-08 22:56:22.194843	f
30	asma	asma@example.com	$2a$10$Xq1LG/eWW0l9NGdphp1j0OY0MhdeApxtTXJRK84WhCeolVmjTylCa	2025-05-09 10:42:16.146107	t	\N	Asma	Ben Salah	123456789	2025-05-09 10:42:16.255002	f
\.


--
-- TOC entry 5001 (class 0 OID 0)
-- Dependencies: 225
-- Name: categories_id_seq; Type: SEQUENCE SET; Schema: public; Owner: pfe_user
--

SELECT pg_catalog.setval('public.categories_id_seq', 7, true);


--
-- TOC entry 5002 (class 0 OID 0)
-- Dependencies: 233
-- Name: certificate_id_seq; Type: SEQUENCE SET; Schema: public; Owner: pfe_user
--

SELECT pg_catalog.setval('public.certificate_id_seq', 1, false);


--
-- TOC entry 5003 (class 0 OID 0)
-- Dependencies: 238
-- Name: course_comment_id_seq; Type: SEQUENCE SET; Schema: public; Owner: pfe_user
--

SELECT pg_catalog.setval('public.course_comment_id_seq', 1, true);


--
-- TOC entry 5004 (class 0 OID 0)
-- Dependencies: 223
-- Name: courses_id_seq; Type: SEQUENCE SET; Schema: public; Owner: pfe_user
--

SELECT pg_catalog.setval('public.courses_id_seq', 14, true);


--
-- TOC entry 5005 (class 0 OID 0)
-- Dependencies: 227
-- Name: enrollments_id_seq; Type: SEQUENCE SET; Schema: public; Owner: pfe_user
--

SELECT pg_catalog.setval('public.enrollments_id_seq', 10, true);


--
-- TOC entry 5006 (class 0 OID 0)
-- Dependencies: 236
-- Name: instructor_requests_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.instructor_requests_id_seq', 9, true);


--
-- TOC entry 5007 (class 0 OID 0)
-- Dependencies: 229
-- Name: lesson_progress_id_seq; Type: SEQUENCE SET; Schema: public; Owner: pfe_user
--

SELECT pg_catalog.setval('public.lesson_progress_id_seq', 11, true);


--
-- TOC entry 5008 (class 0 OID 0)
-- Dependencies: 231
-- Name: lessons_id_seq; Type: SEQUENCE SET; Schema: public; Owner: pfe_user
--

SELECT pg_catalog.setval('public.lessons_id_seq', 6, true);


--
-- TOC entry 5009 (class 0 OID 0)
-- Dependencies: 219
-- Name: revoked_token_id_seq; Type: SEQUENCE SET; Schema: public; Owner: pfe_user
--

SELECT pg_catalog.setval('public.revoked_token_id_seq', 1, false);


--
-- TOC entry 5010 (class 0 OID 0)
-- Dependencies: 221
-- Name: revoked_tokens_id_seq; Type: SEQUENCE SET; Schema: public; Owner: pfe_user
--

SELECT pg_catalog.setval('public.revoked_tokens_id_seq', 1, false);


--
-- TOC entry 5011 (class 0 OID 0)
-- Dependencies: 217
-- Name: users_id_seq; Type: SEQUENCE SET; Schema: public; Owner: pfe_user
--

SELECT pg_catalog.setval('public.users_id_seq', 33, true);


--
-- TOC entry 4788 (class 2606 OID 74091)
-- Name: categories categories_name_key; Type: CONSTRAINT; Schema: public; Owner: pfe_user
--

ALTER TABLE ONLY public.categories
    ADD CONSTRAINT categories_name_key UNIQUE (name);


--
-- TOC entry 4790 (class 2606 OID 74110)
-- Name: categories categories_pkey; Type: CONSTRAINT; Schema: public; Owner: pfe_user
--

ALTER TABLE ONLY public.categories
    ADD CONSTRAINT categories_pkey PRIMARY KEY (id);


--
-- TOC entry 4802 (class 2606 OID 74191)
-- Name: certificate certificate_pkey; Type: CONSTRAINT; Schema: public; Owner: pfe_user
--

ALTER TABLE ONLY public.certificate
    ADD CONSTRAINT certificate_pkey PRIMARY KEY (id);


--
-- TOC entry 4808 (class 2606 OID 98809)
-- Name: course_comment course_comment_pkey; Type: CONSTRAINT; Schema: public; Owner: pfe_user
--

ALTER TABLE ONLY public.course_comment
    ADD CONSTRAINT course_comment_pkey PRIMARY KEY (id);


--
-- TOC entry 4786 (class 2606 OID 74064)
-- Name: courses courses_pkey; Type: CONSTRAINT; Schema: public; Owner: pfe_user
--

ALTER TABLE ONLY public.courses
    ADD CONSTRAINT courses_pkey PRIMARY KEY (id);


--
-- TOC entry 4792 (class 2606 OID 74137)
-- Name: enrollments enrollments_pkey; Type: CONSTRAINT; Schema: public; Owner: pfe_user
--

ALTER TABLE ONLY public.enrollments
    ADD CONSTRAINT enrollments_pkey PRIMARY KEY (id);


--
-- TOC entry 4806 (class 2606 OID 90591)
-- Name: instructor_requests instructor_requests_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.instructor_requests
    ADD CONSTRAINT instructor_requests_pkey PRIMARY KEY (id);


--
-- TOC entry 4796 (class 2606 OID 74155)
-- Name: lesson_progress lesson_progress_pkey; Type: CONSTRAINT; Schema: public; Owner: pfe_user
--

ALTER TABLE ONLY public.lesson_progress
    ADD CONSTRAINT lesson_progress_pkey PRIMARY KEY (id);


--
-- TOC entry 4800 (class 2606 OID 74166)
-- Name: lessons lessons_pkey; Type: CONSTRAINT; Schema: public; Owner: pfe_user
--

ALTER TABLE ONLY public.lessons
    ADD CONSTRAINT lessons_pkey PRIMARY KEY (id);


--
-- TOC entry 4778 (class 2606 OID 74014)
-- Name: revoked_token revoked_token_pkey; Type: CONSTRAINT; Schema: public; Owner: pfe_user
--

ALTER TABLE ONLY public.revoked_token
    ADD CONSTRAINT revoked_token_pkey PRIMARY KEY (id);


--
-- TOC entry 4782 (class 2606 OID 74023)
-- Name: revoked_tokens revoked_tokens_pkey; Type: CONSTRAINT; Schema: public; Owner: pfe_user
--

ALTER TABLE ONLY public.revoked_tokens
    ADD CONSTRAINT revoked_tokens_pkey PRIMARY KEY (id);


--
-- TOC entry 4798 (class 2606 OID 74180)
-- Name: lesson_progress uk7lok1iwll7jsobapv1rmr563; Type: CONSTRAINT; Schema: public; Owner: pfe_user
--

ALTER TABLE ONLY public.lesson_progress
    ADD CONSTRAINT uk7lok1iwll7jsobapv1rmr563 UNIQUE (user_id, lesson_id);


--
-- TOC entry 4784 (class 2606 OID 74025)
-- Name: revoked_tokens uk_o7nu95tpd50oqhacdvs5qk1bf; Type: CONSTRAINT; Schema: public; Owner: pfe_user
--

ALTER TABLE ONLY public.revoked_tokens
    ADD CONSTRAINT uk_o7nu95tpd50oqhacdvs5qk1bf UNIQUE (token);


--
-- TOC entry 4780 (class 2606 OID 74016)
-- Name: revoked_token uk_rupeseqdsv5w14ld7lxx7u2og; Type: CONSTRAINT; Schema: public; Owner: pfe_user
--

ALTER TABLE ONLY public.revoked_token
    ADD CONSTRAINT uk_rupeseqdsv5w14ld7lxx7u2og UNIQUE (token);


--
-- TOC entry 4794 (class 2606 OID 74139)
-- Name: enrollments unique_enrollment; Type: CONSTRAINT; Schema: public; Owner: pfe_user
--

ALTER TABLE ONLY public.enrollments
    ADD CONSTRAINT unique_enrollment UNIQUE (user_id, course_id);


--
-- TOC entry 4804 (class 2606 OID 90576)
-- Name: user_roles user_roles_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_roles
    ADD CONSTRAINT user_roles_pkey PRIMARY KEY (user_id, role);


--
-- TOC entry 4772 (class 2606 OID 65737)
-- Name: users users_email_key; Type: CONSTRAINT; Schema: public; Owner: pfe_user
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_email_key UNIQUE (email);


--
-- TOC entry 4774 (class 2606 OID 65830)
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: pfe_user
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_pkey PRIMARY KEY (id);


--
-- TOC entry 4776 (class 2606 OID 65735)
-- Name: users users_username_key; Type: CONSTRAINT; Schema: public; Owner: pfe_user
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_username_key UNIQUE (username);


--
-- TOC entry 4809 (class 2606 OID 74072)
-- Name: courses courses_instructor_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: pfe_user
--

ALTER TABLE ONLY public.courses
    ADD CONSTRAINT courses_instructor_id_fkey FOREIGN KEY (instructor_id) REFERENCES public.users(id) ON DELETE SET NULL;


--
-- TOC entry 4810 (class 2606 OID 74111)
-- Name: courses fk_category; Type: FK CONSTRAINT; Schema: public; Owner: pfe_user
--

ALTER TABLE ONLY public.courses
    ADD CONSTRAINT fk_category FOREIGN KEY (category_id) REFERENCES public.categories(id);


--
-- TOC entry 4811 (class 2606 OID 74145)
-- Name: enrollments fk_course; Type: FK CONSTRAINT; Schema: public; Owner: pfe_user
--

ALTER TABLE ONLY public.enrollments
    ADD CONSTRAINT fk_course FOREIGN KEY (course_id) REFERENCES public.courses(id) ON DELETE CASCADE;


--
-- TOC entry 4812 (class 2606 OID 74140)
-- Name: enrollments fk_user; Type: FK CONSTRAINT; Schema: public; Owner: pfe_user
--

ALTER TABLE ONLY public.enrollments
    ADD CONSTRAINT fk_user FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- TOC entry 4815 (class 2606 OID 90592)
-- Name: instructor_requests instructor_requests_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.instructor_requests
    ADD CONSTRAINT instructor_requests_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- TOC entry 4813 (class 2606 OID 74167)
-- Name: lessons lessons_course_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: pfe_user
--

ALTER TABLE ONLY public.lessons
    ADD CONSTRAINT lessons_course_id_fkey FOREIGN KEY (course_id) REFERENCES public.courses(id) ON DELETE CASCADE;


--
-- TOC entry 4814 (class 2606 OID 90577)
-- Name: user_roles user_roles_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_roles
    ADD CONSTRAINT user_roles_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- TOC entry 4993 (class 0 OID 0)
-- Dependencies: 237
-- Name: TABLE instructor_requests; Type: ACL; Schema: public; Owner: postgres
--

GRANT ALL ON TABLE public.instructor_requests TO pfe_user;


--
-- TOC entry 4995 (class 0 OID 0)
-- Dependencies: 236
-- Name: SEQUENCE instructor_requests_id_seq; Type: ACL; Schema: public; Owner: postgres
--

GRANT SELECT,USAGE ON SEQUENCE public.instructor_requests_id_seq TO pfe_user;


--
-- TOC entry 4999 (class 0 OID 0)
-- Dependencies: 235
-- Name: TABLE user_roles; Type: ACL; Schema: public; Owner: postgres
--

GRANT ALL ON TABLE public.user_roles TO pfe_user;


--
-- TOC entry 2099 (class 826 OID 65812)
-- Name: DEFAULT PRIVILEGES FOR SEQUENCES; Type: DEFAULT ACL; Schema: public; Owner: postgres
--

ALTER DEFAULT PRIVILEGES FOR ROLE postgres IN SCHEMA public GRANT SELECT,USAGE ON SEQUENCES TO pfe_user;


--
-- TOC entry 2098 (class 826 OID 65811)
-- Name: DEFAULT PRIVILEGES FOR TABLES; Type: DEFAULT ACL; Schema: public; Owner: postgres
--

ALTER DEFAULT PRIVILEGES FOR ROLE postgres IN SCHEMA public GRANT ALL ON TABLES TO pfe_user;


-- Completed on 2025-05-11 19:57:02

--
-- PostgreSQL database dump complete
--

